<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<body>
<section id="editor-section" class="pane pane-request request-common" style="height: calc(100% - 48px)" th:fragment="editor-section">

    <div class="draft-ribbon" style="" onclick="showExamplePanel()">
        <div class="draft-ribbon-text"> New</div>
    </div>
    <div class="editable-input-container request-name" style="margin-top: 18px;">
        <div class="editable-input input-append read-only">
            <input type="text" class="gwt-TextBox gwt-TextBox-readonly api-info-comment" placeholder="Comment" required="true" maxlength="256" readonly="" value="Request">
            <span class="add-on"><i class="icon-pencil"></i></span></div>
        <div class="editable-input-error" title=""></div>
    </div>
    <div class="content" style="margin-top:10px;height:calc(100% - 130px); ">
        <div class="service">
            <div class="row-uri-in-request-view">
                <div class="row-uri">
                    <input type="hidden" class="api-info-id">
                    <input type="hidden" class="api-info-group" value="公共API">
                    <input type="hidden" class="api-info-editor" value="admin">
                    <div class="uri-db" id="uri-db" th:style="'display:' + @{(${dataSourceList.size() eq 1} ? 'none' : 'inline-block')} + ''">
                        <div class="uri-help" >
                            <a class="help-link" href="http://tools.ietf.org/html/rfc7231#section-4" tabindex="-1" target="_blank"> Datasource </a>
                        </div>
                        <div>
                            <div class="btn-group input-append split-dropdown" e2e-tag="db-selector">
                                <div class="input-append dropdown-toggle" data-toggle="dropdown">
                                    <input type="text" class="gwt-TextBox api-info-datasource" style="width: 85px;cursor:pointer;" readonly th:attr="default-value=${dataSourceList[0]}">
                                    <span class="add-on">
                                        <a href="javascript:;" class="btn btn-small btn-link split-dropdown-trigger" tabindex="-1">
                                            <i class="icon-caret-down"> </i>
                                        </a>
                                    </span>
                                </div>
                                <ul class="dropdown-menu" >
                                    <li th:each="item,infoStat : ${dataSourceList}"><a href="javascript:;" th:text="${item}"> </a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="uri-method">
                        <div class="uri-help">
                            <a class="help-link" href="http://tools.ietf.org/html/rfc7231#section-4" tabindex="-1" target="_blank"> Method </a>
                        </div>
                        <div>
                            <div class="btn-group input-append split-dropdown" e2e-tag="method-selector">
                                <div class="input-append dropdown-toggle" data-toggle="dropdown">
                                    <input type="text" class="gwt-TextBox api-info-method" style="width: 85px;" value="GET">
                                    <span class="add-on">
                                                                <a href="javascript:;" class="btn btn-small btn-link split-dropdown-trigger" tabindex="-1">
                                                                    <i class="icon-caret-down"> </i>
                                                                </a>
                                                            </span>
                                </div>
                                <ul class="dropdown-menu">
                                    <li><a href="javascript:;"><i></i> GET </a></li>
                                    <li><a href="javascript:;"><i></i> POST </a></li>
                                    <li><a href="javascript:;"><i></i> PUT </a></li>
                                    <li><a href="javascript:;"><i></i> DELETE </a></li>
                                    <li><a href="javascript:;"><i></i> HEAD </a></li>
                                    <li><a href="javascript:;"><i></i> OPTIONS </a></li>
                                    <li><a href="javascript:;"><i></i> PATCH </a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="uri-editor">
                        <div class="uri-help"><a> Path </a></div>
                        <div class="uri-input">
                                                    <span class="expression-input input-append uri-path">
                                                        <input type="text" class="gwt-TextBox api-info-path" spellcheck="false" autocomplete="off" e2e-tag="uri-input"
                                                               placeholder="Type an Path" style="padding-left:10px;">
                                                        <span class="add-on" data-original-title="" title=""> <i class="icon-magic"></i></span></span>
                            <div class="uri-length" style="display: inline;">length: 0 char(s)</div>
                        </div>
                    </div>
                </div>
                <div class="btn-group send">
                    <a href="javascript:;" id="save-editor-btn" onclick="saveEditor('#editor-section')" class="btn btn-send btn-primary"
                       e2e-tag="btn-send">
                        <i class="icon-send"></i> Save</a>
                    <a href="javascript:;" class="btn btn-primary btn-send dropdown-toggle" data-toggle="dropdown" e2e-tag="btn-send-additional-actions" tabindex="-1"><i
                            class="icon-caret-down"></i> </a>
                    <ul class="dropdown-menu pull-right">
                        <li><a href="javascript:;" onclick="saveAsEditor('#editor-section')"><i></i> Save as </a></li>
                    </ul>
                </div>
            </div>

        </div>

        <div class="code-body"  style="height: 100%;margin-top:25px;">
            <div id="editor-btns" style="height: 24px;">
                <div class="item debug-btn" title="DEBUG运行脚本 快捷键Ctrl + Alt + Enter" onclick="runApi(true)" >Debug</div>
                <div class="item run-btn" title="运行脚本 快捷键Ctrl + Enter" onclick="runApi(false)">Run</div>
            </div>
            <div id="monaco-editor" style="font-size: 13px;width:100%;height: calc(100% - 24px);"></div>
        </div>
        <div class="diff-body"  style="height: 100%;margin-top:25px;display: none">
            <div  style="height: 24px;" class="title">
                <div class="left" style="width: 50%;float:left;">
                    <div class="uri-input-lock"><i style="margin-left: 5px;" class="fa fa-lock"></i>
                        <span style="padding-left:10px;">5f0d1a5ff8b91c1774b1d50a</span>
                        <span style="padding-left:10px;">2020-07-10 10:10:10</span>
                        <div  style="float:right;margin-right:20px;" class="item" title="" onclick="acceptLeft()" >Accept Left</div>
                    </div>
                </div>
                <div class="right" style="width: 50%;float:left;">
                    <div class="m-left">Local</div>
                    <div class="item" title="" onclick="confirmDiff()">Confirm</div>
                    <div class="item" title="" onclick="cancelDiff()">Cancel</div>
                </div>
            </div>
            <div id="diff-editor" style="font-size: 13px;width:100%;height: calc(100% - 24px);"></div>
        </div>

    </div>


    <!--save as-->
    <div class="modal save-dialog in" id="save-dialog" aria-hidden="false" style="display: none">
        <div class="modal-header"><a class="close" onclick="cancelDialogGroup()" data-dismiss="modal">×</a>
            <h3>Save Request <small></small></h3></div>
        <div class="modal-body">
            <div class="form-horizontal">
                <div class="repository-path-selector">
                    <div class="flex-container name-form">
                        <div class="left-label"> Name</div>
                        <div class="right-label"><input type="text" class="gwt-TextBox input-xlarge"></div>
                    </div>
                    <div class="validation-message"></div>
                    <div class="path">
                        <div class="flex-container">
                            <div class="path-selector-header left-label"> Path</div>
                            <div class="flex-container path-selector-container right-label"><a class="r-btn" e2e-tag="drive-selector" title="My drive"><i
                                    class="api-tester-icon api-tester-drive"></i> <span class="drive-name">My drive</span> <span class="caret"></span></a>
                                <ul class="dropdown-menu" e2e-tag="drives-list">
                                    <li><a>My drive</a></li>
                                </ul>
                                <span class="colon">:</span>
                                <div class="path-buttons" e2e-tag="drive-path"><a class="r-btn active" onclick="showDialogGroup()">/</a></div>
                            </div>
                        </div>
                    </div>
                    <div class="selector-table">
                        <ul class="nav nav-list local-drive">

                        </ul>
                    </div>
                    <div class="new-path"><a class="r-btn" onclick="addGroup()"><i class="fa fa-plus"></i> <span> Create </span> </a>
                        <div class="new-container-form" aria-hidden="true" style="display: none;">
                            <div class="flex-container"><span class="left-label"></span> <input type="text" class="new-item-name input-xlarge">
                                <div class="create-form">
                                    <button class="r-btn r-btn-small" onclick="confirmGroup()"><i class="fa fa-check"></i> <span> Add </span></button>
                                    <button class="r-btn r-btn-small" onclick="cancelGroup()"><i class="fa fa-times-thin"></i> <span> Cancel </span></button>
                                </div>
                            </div>
                            <div class="validation-message"></div>
                        </div>
                    </div>
                </div>
                <div class="alert hidden">The target request will be overwritten.</div>
            </div>
        </div>
        <div class="modal-footer">
            <button class="r-btn" e2e-tag="modal-cancel" onclick="cancelDialogGroup()"><i class="fa fa-remove"></i><span>Cancel</span><span class="r-btn-indicator" aria-hidden="true"
                                                                                                                                            style="display: none;"></span></button>
            <button class="r-btn r-btn-primary" e2e-tag="modal-ok" onclick="confirmDialog('#editor-section')"><i class="fa fa-download"></i><span>Save</span><span class="r-btn-indicator" aria-hidden="true"
                                                                                                                        style="display: none;"></span></button>
        </div>
    </div>
</section>
</body>
</html>

